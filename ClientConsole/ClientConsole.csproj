<Project Sdk="Microsoft.NET.Sdk.Web">
  <Import Project="../BuildTasks/ServiceReference.props" />
  <Import Project="../BuildTasks/NSwagServiceReference.props" />

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>netcoreapp2.1</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="../BuildTasks/BuildTasks.csproj" ReferenceOutputAssembly="false" />

    <PackageReference Include="Microsoft.AspNetCore.App" />
    <PackageReference Include="Microsoft.AspNetCore.Authentication.Abstractions" Version="2.1.0" />

    <ServiceProjectReference
      Include="../TrialNSwag/TrialNSwag.csproj"
      CodeGenerator="NSwagCSharp"
      DocumentPath="TrialNSwag1.json"
      Path="/swagger/v1/swagger.json"
      Options="/GenerateExceptionClasses:false" />
    <ServiceProjectReference
      Include="../TrialNSwag/TrialNSwag.csproj"
      CodeGenerator="NSwagCSharp"
      DocumentPath="TrialNSwag2.json"
      DocumentGenerator="NSwag"
      Options="/GenerateExceptionClasses:false" />
    <ServiceProjectReference
      Include="../TrialNSwag/TrialNSwag.csproj"
      CodeGenerator="NSwagCSharp"
      DocumentPath="TrialNSwag3.json"
      ServiceName="NSwag.Service"
      Method="GetOpenApiDocumentString"
      Options="/GenerateExceptionClasses:false" />

    <ServiceUriReference Include="https://localhost:5001/swagger/v1/swagger.json"
      ClassName="LocalhostSwagger"
      CodeGenerator="NSwagCSharp"
      Options="/GenerateExceptionClasses:false" />

    <!-- ServiceUriReference Include="https://localhost:5002/swagger/v2/swagger.json" / -->
    <!-- ServiceFileReference Include="../TrialNSwag/swagger.json" CodeGenerator="AnotherCSharp" / -->
    <ServiceFileReference Include="../TrialNSwag/swagger.json" CodeGenerator="NSwagCSharp" />
  </ItemGroup>

  <Import Project="../BuildTasks/ServiceReference.targets" />
  <Import Project="../BuildTasks/NSwagServiceReference.targets" />
</Project>
